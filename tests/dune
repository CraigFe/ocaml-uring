(library
  (name urcp_lib)
  (modules urcp_lib)
  (libraries fmt bigstringaf unix uring logs))

(executable
 (name urcat)
 (modules urcat)
 (public_name urcat)
 (libraries bigstringaf unix uring))

(executable
 (name urcp)
 (modules urcp)
 (public_name urcp)
 (libraries cmdliner logs.cli logs.fmt fmt.tty fmt.cli urcp_lib))

(executable
 (name basic_file_read)
 (modules basic_file_read)
 (libraries bigstringaf unix uring alcotest))

(executable
 (name cptest)
 (modules cptest)
 (libraries urcp_lib uring bos bechamel notty.unix bechamel-notty))

(rule
 (alias runtest)
 (deps urcp.exe)
 (action (run ./cptest.exe ./urcp.exe)))
